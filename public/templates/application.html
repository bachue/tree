<div class="navbar navbar-fixed-top navbar-default" role="navigation">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="javascript:void(0)">Tree</a>
        </div>
        <div class="collapse navbar-collapse">
            <ul class="nav navbar-nav">
                <li class="dropdown" data-ng-if="current.project">
                    <a href="javascript:void(0)" class="dropdown-toggle" data-toggle="dropdown"><span data-ng-bind="current.project.name"></span>&nbsp;<b class="caret"></b></a>
                    <ul class="dropdown-menu">
                        <li data-ng-repeat="project in projects">
                            <a href="javascript:void(0)" data-ng-bind="project.name"></a>
                        </li>
                    </ul>
                </li>
<!--                 <li class="dropdown">
                    <a href="javascript:void(0)" class="dropdown-toggle" data-toggle="dropdown">Current <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                        <li><a href="javascript:void(0)">Current</a></li>
                        <li><a href="javascript:void(0)">v1.0</a></li>
                        <li><a href="javascript:void(0)">v1.1</a></li>
                    </ul>
                </li>
 -->            </ul>
            <ul class="nav navbar-nav navbar-right">
                <li><a href="javascript:void(0)" class="glyphicon glyphicon-wrench" data-toggle="modal" data-target="#project-config"></a></li>
            </ul>
        </div><!-- /.nav-collapse -->
    </div><!-- /.container -->
</div><!-- /.navbar -->

<div class="container main-container" data-ui-view></div>

<div class="modal fade" id="project-config">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title">New Project</h4>
            </div>
            <form method="POST" name="project_config" data-ng-if="!current.config_dialog.cloning">
                <div class="modal-body">
                        <div class="input-group project-config-text-input">
                            <span class="input-group-addon">Project</span>
                            <input type="text" class="form-control" name="project_name" data-ng-model="current.config_dialog.name" data-required data-ng-maxlength="30" placeholder="e.g. Bifrost" />
                            <span class="input-group-addon">Branch</span>
                            <input type="text" class="form-control" name="branch_name" data-ng-model="current.config_dialog.branch" data-required data-ng-maxlength="30" placeholder="e.g. master" />
                        </div>
                        <div class="input-group project-config-text-input">
                            <span class="input-group-addon">Git</span>
                            <input type="text" class="form-control" name="git_url" data-ng-model="current.config_dialog.url" data-required placeholder="e.g. ssh://user@gerrit.dechocorp.com/bifrost" data-ng-maxlength="255" data-ng-pattern="/^(?:http|https|ssh):\/\/[^\/]+\/.+/" />
                        </div>
                    <div class="progress progress-striped active" data-ng-if="current.config_dialog.cloning">
                        <div class="progress-bar" role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width: 100%">
                            <span class="sr-only">Git cloning...</span>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-ng-disabled="current.config_dialog.cloning" data-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-primary" data-ng-disabled="current.config_dialog.cloning || project_config.$invalid" data-ng-click="submit_config()">Save changes</button>
                </div>
            </form>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div><!-- /.modal -->