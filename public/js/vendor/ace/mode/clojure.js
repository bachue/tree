define(function(require,exports,module){"use strict";var oop=require("../lib/oop");var TextMode=require("./text").Mode;var Tokenizer=require("../tokenizer").Tokenizer;var ClojureHighlightRules=require("./clojure_highlight_rules").ClojureHighlightRules;var MatchingParensOutdent=require("./matching_parens_outdent").MatchingParensOutdent;var Range=require("../range").Range;var Mode=function(){this.HighlightRules=ClojureHighlightRules;this.$outdent=new MatchingParensOutdent};oop.inherits(Mode,TextMode);(function(){this.lineCommentStart=";";this.getNextLineIndent=function(state,line,tab){var indent=this.$getIndent(line);var tokenizedLine=this.getTokenizer().getLineTokens(line,state);var tokens=tokenizedLine.tokens;if(tokens.length&&tokens[tokens.length-1].type=="comment"){return indent}if(state=="start"){var match=line.match(/[\(\[]/);if(match){indent+="  "}match=line.match(/[\)]/);if(match){indent=""}}return indent};this.checkOutdent=function(state,line,input){return this.$outdent.checkOutdent(line,input)};this.autoOutdent=function(state,doc,row){this.$outdent.autoOutdent(doc,row)};this.$id="ace/mode/clojure"}).call(Mode.prototype);exports.Mode=Mode});