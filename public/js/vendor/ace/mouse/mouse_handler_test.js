if(typeof process!=="undefined"){require("amd-loader");require("../test/mockdom")}define(function(require,exports,module){"use strict";var Editor=require("../editor").Editor;var MockRenderer=require("../test/mockrenderer").MockRenderer;var assert=require("../test/assertions");var MouseEvent=function(type,opts){var e=document.createEvent("MouseEvents");e.initMouseEvent("mouse"+type,true,true,window,opts.detail,opts.x,opts.y,opts.x,opts.y,opts.ctrl,opts.alt,opts.shift,opts.meta,opts.button||0,opts.relatedTarget);return e};module.exports={setUp:function(next){this.editor=new Editor(new MockRenderer);this.editor.setValue("Juhu kinners!");next()},"test: double tap. issue #956":function(){var target=this.editor.renderer.getMouseEventTarget();target.dispatchEvent(MouseEvent("down",{x:1,y:1}));target.dispatchEvent(MouseEvent("up",{x:1,y:1}));target.dispatchEvent(MouseEvent("down",{x:1,y:1,detail:2}));target.dispatchEvent(MouseEvent("up",{x:1,y:1,detail:2}));assert.equal(this.editor.getSelectedText(),"Juhu")}}});if(typeof module!=="undefined"&&module===require.main){require("asyncjs").test.testcase(module.exports).exec()}