if(typeof process!=="undefined"){require("amd-loader")}define(function(require,exports,module){"use strict";var EditSession=require("./../edit_session").EditSession,Editor=require("./../editor").Editor,MockRenderer=require("./../test/mockrenderer").MockRenderer,emacs=require("./emacs"),assert=require("./../test/assertions"),editor;function initEditor(docString){var doc=new EditSession(docString.split("\n"));editor=new Editor(new MockRenderer,doc);editor.setKeyboardHandler(emacs.handler)}module.exports={"test: detach removes emacs commands from command manager":function(){initEditor("");assert.ok(!!editor.commands.byName["keyboardQuit"],"setup error: emacs commands not installed");editor.keyBinding.removeKeyboardHandler(editor.getKeyboardHandler());assert.ok(!editor.commands.byName["keyboardQuit"],"emacs commands not removed")},"test: keyboardQuit clears selection":function(){initEditor("foo");editor.selectAll();editor.execCommand("keyboardQuit");assert.ok(editor.selection.isEmpty(),"selection non-empty")}}});if(typeof module!=="undefined"&&module===require.main){require("asyncjs").test.testcase(module.exports).exec()}