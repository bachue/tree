require("amd-loader");define(function(require,exports,module){"use strict";var assert=require("../test/assertions");var worker=require("./worker");module.exports={setUp:function(){worker.define("depA",[],function(require,exports,module){module.exports="dependency A"});worker.define("depB",[],function(require,exports,module){module.exports="dependency B"})},"test: define() with no dependencies, and CommonJS-compatability require()-calls":function(){worker.require.id="test1";worker.define(function(require,exports,module){var depA=require("depA");var depB=require("depB");assert.equal("dependency A",depA);assert.equal("dependency B",depB);module.exports="test 1"});var res=worker.require("test1");assert.equal("test 1",res)},"test: define() with dependencies":function(){worker.require.id="test2";worker.define(["depA","depB"],function(depA,depB){assert.equal("dependency A",depA);assert.equal("dependency B",depB);return"test 2"});var res=worker.require("test2");assert.equal("test 2",res)},"test: define() used require, exports and module as a dependency":function(){worker.require.id="test3";worker.define(["require","exports","module","depA","depB"],function(require,exports,module){var depA=require("depA");var depB=require("depB");assert.equal("dependency A",depA);assert.equal("dependency B",depB);module.exports="test 3"});var res=worker.require("test3");assert.equal("test 3",res)},"test: define() with a mix of require and actual dependecies":function(){worker.require.id="test4";worker.define(["depA","require"],function(depA,require){var depB=require("depB");assert.equal("dependency A",depA);assert.equal("dependency B",depB);return"test 4"});var res=worker.require("test4");assert.equal("test 4",res)}}});if(typeof module!=="undefined"&&module===require.main){require("asyncjs").test.testcase(module.exports).exec()}